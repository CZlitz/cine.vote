<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Security Video Page</title>
  <style>
    body {
      background: white;
      font-family: Arial, sans-serif;
      font-size: 22px;
      padding: 40px;
      margin: 0;
    }

    .placeholder {
      max-width: 900px;
      margin: 0 auto;
      text-align: left;
    }

    #content {
      display: block;
      margin-top: 1500px;
      text-align: center;
    }

    video {
      width: 90%;
      max-width: 1200px;
      margin-top: 30px;
      background: #000;
    }

    #terminated, #loading {
      display: none;
      font-size: 28px;
      margin-top: 100px;
      text-align: center;
    }

    #terminated { color: red; }
    strong { color: black; }
    .underline { border-bottom: 2px solid #000; font-weight: bold; }
    .underline-light { border-bottom: 2px solid #000; }
  </style>
</head>
<body>

<div class="placeholder">
  <h1>Security Log Placeholder</h1>
  <p>Welcome to this exclusive study designed to evaluate teasers and trailers of upcoming media releases. This controlled environment allows us to gather valuable initial impressions, audience reactions, and constructive feedback that are essential for refining the final product before its official launch.</p>
  <p>All content provided within this study is highly confidential and intended solely for authorized participants. Due to the sensitive nature of the materials, strict security measures are in place to prevent any unauthorized distribution. Unauthorized leaks, screenshots, recordings, or any form of sharing outside this platform are strictly prohibited and considered serious violations.</p>
  <p>Such breaches not only compromise the integrity of the study but can also adversely impact marketing strategies, contractual agreements, and overall project success. Therefore, we emphasize the importance of maintaining confidentiality and adhering to all guidelines established for this study.</p>
  <p>Your participation and cooperation are crucial to the success of this evaluation process. By respecting these rules, you help us protect exclusive content and ensure that the final release meets the highest standards of quality and security.</p>
  <p>Thank you for your understanding and for being an integral part of this important process. Together, we strive to deliver exceptional experiences while safeguarding the interests of all stakeholders involved.</p>
</div>

<div id="content">
  <p>
    For security reasons, once the video starts playing  
    <span class="underline">please do not use the keyboard, mouse or click outside of this window.</span><br>
    <span class="underline">Doing so will result in you being terminated from the <strong>study</strong>.</span><br>
    <span class="underline-light">We appreciate your understanding.</span>
  </p>

  <video id="secureVideo" playsinline preload="auto">
    <source src="video.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<div id="terminated">
  <p><strong>SESSION TERMINATED</strong><br>Unauthorized input detected.</p>
</div>

<div id="loading">
  <p><strong>LOADING…</strong></p>
</div>

<script>
  const video = document.getElementById("secureVideo");
  const content = document.getElementById("content");
  const terminated = document.getElementById("terminated");
  const loading = document.getElementById("loading");

  let protectionEnabled = false;
  let videoStarted = false;

  // Espera o usuário clicar com o vídeo visível para começar
  document.addEventListener("click", () => {
    if (videoStarted) return;

    const rect = video.getBoundingClientRect();
    const inViewport = rect.top < window.innerHeight && rect.bottom >= 0;

    if (inViewport) {
      video.play().then(() => {
        videoStarted = true;
        setTimeout(() => protectionEnabled = true, 500);
      }).catch(err => {
        console.error("Autoplay with sound blocked:", err);
      });
    }
  });

  // Se usuário mexer enquanto o vídeo estiver protegido
  function erasePage(e) {
    if (!protectionEnabled) return;
    if (e.target.tagName === "VIDEO" || video.contains(e.target)) return;

    if (!video.paused) video.pause();
    video.src = "";
    video.load();

    content.style.display = "none";
    terminated.style.display = "block";
  }

  ["mousemove", "keydown", "click"].forEach(ev => {
    document.addEventListener(ev, erasePage);
  });

  // Quando o vídeo termina naturalmente
  video.addEventListener("ended", () => {
    content.style.display = "none";
    loading.style.display = "block";
  });
</script>
</body>
</html>
